# Ads Creative Generator Plugin - Business Requirements

## Обзор проекта
WordPress плагин для автоматической генерации рекламных креативов на основе анализа веб-сайтов с использованием OpenAI API.

## Текущая функциональность

### Основные возможности
1. **Анализ веб-сайтов** - автоматический анализ контента сайта через OpenAI API
2. **Генерация креативов** - создание 18 уникальных рекламных креативов по 6 категориям
3. **Копирование креативов** - удобное копирование в буфер обмена
4. **Адаптивный дизайн** - работа на всех устройствах (desktop, mobile, tablet)
5. **Админ панель** - управление API ключами и настройками

### Категории креативов
- **UVP (Unique Value Proposition)** - уникальное торговое предложение
- **ICP (Ideal Customer Profile)** - портрет идеального клиента  
- **Pain Points** - болевые точки клиентов
- **Triggers** - триггеры для принятия решений
- **Goals** - цели клиентов
- **Benefits** - выгоды от продукта/услуги

### Технические особенности
- **API интеграция** - OpenAI ChatGPT для анализа и генерации
- **Без отслеживания** - отключено логирование IP и статистика использования
- **Анонимное использование** - работает без регистрации пользователей
- **Кэширование URL** - сохранение последнего анализируемого URL
- **Валидация URL** - поддержка простых доменов (example.com)

## Архитектура проекта

### Структура файлов
```
ads-creative-generator/
├── ads-creative-generator.php          # Основной файл плагина
├── admin/
│   ├── admin-page.php                  # Главная админ страница
│   └── settings-page.php               # Настройки API ключей
├── assets/
│   ├── css/
│   │   └── frontend.css                # Стили фронтенда
│   └── js/
│       ├── admin.js                    # JS для админки
│       └── frontend.js                 # JS для фронтенда
├── includes/
│   └── shortcode.php                   # Обработка шорткода
└── interface-prototype.html            # HTML прототип
```

### Основные компоненты

#### 1. Основной файл плагина (`ads-creative-generator.php`)
- Инициализация плагина
- Регистрация AJAX обработчиков
- Создание таблиц БД
- API интеграция с OpenAI
- Обработка анализа сайтов

#### 2. AJAX обработчики
- `analyze_website` - анализ веб-сайта
- `get_analysis_details` - получение деталей анализа
- `test_openai_api_key` - тестирование API ключа

#### 3. Фронтенд (`frontend.js`)
- Валидация URL
- AJAX запросы к серверу
- Отображение результатов
- Копирование креативов
- Демо режим для тестирования верстки

#### 4. Админ панель
- Управление OpenAI API ключами
- Инструкции по использованию
- Отключенная статистика использования

### База данных
Таблица `wpie_ads_creative_analyses`:
- `id` - уникальный идентификатор
- `website_url` - URL анализируемого сайта
- `analysis_data` - JSON с результатами анализа
- `created_at` - дата создания
- `ip_address` - IP адрес (не используется)

## API интеграция

### OpenAI ChatGPT
- **Модель**: gpt-3.5-turbo
- **Задачи**: 
  - Анализ контента веб-сайта
  - Генерация UVP, ICP, Pain Points, Triggers, Goals, Benefits
  - Создание 18 рекламных креативов
- **Формат ответа**: JSON с структурированными данными

### Обработка ошибок
- Валидация API ключей
- Обработка сетевых ошибок
- Fallback на демо данные при необходимости
- Подробное логирование для отладки

## Пользовательский интерфейс

### Экран 1 - Ввод URL
- Поле ввода веб-сайта
- Кнопка "Analyze Website"
- Валидация URL в реальном времени

### Экран 2 - Результаты анализа
- 6 секций с анализом (UVP, ICP, Pain Points, Triggers, Goals, Benefits)
- 18 креативов (по 3 на каждую секцию)
- Кнопки копирования для каждого креатива
- Кнопка "Back" для возврата

### Адаптивность
- Мобильная оптимизация
- Responsive дизайн
- Поддержка touch-событий

## Безопасность

### Защита данных
- WordPress nonce для AJAX запросов
- Санитизация входных данных
- Валидация URL
- Защита от XSS атак

### API безопасность
- Безопасное хранение API ключей в WordPress options
- Проверка прав доступа к админ функциям
- Ограничение доступа к AJAX обработчикам

## Производительность

### Оптимизация
- Минимальные CSS/JS файлы
- Кэширование в localStorage
- Асинхронные AJAX запросы
- Оптимизированные SQL запросы

### Масштабируемость
- Поддержка множественных сайтов
- Возможность расширения функциональности
- Модульная архитектура

## Развертывание

### Требования
- WordPress 5.0+
- PHP 7.4+
- cURL расширение
- OpenAI API ключ

### Установка
1. Загрузка плагина в `/wp-content/plugins/`
2. Активация через админ панель WordPress
3. Настройка API ключа в настройках плагина
4. Добавление шорткода `[ads_creative_generator]` на страницы

### Использование
1. Переход на страницу с плагином
2. Ввод URL веб-сайта для анализа
3. Ожидание завершения анализа
4. Просмотр и копирование креативов

## Будущие улучшения

### Планируемые функции
- Экспорт креативов в различные форматы
- Настройка стилей креативов
- Интеграция с другими AI моделями
- Расширенная аналитика
- Многоязычная поддержка

### Технические улучшения
- Кэширование результатов анализа
- Оптимизация API запросов
- Улучшение обработки ошибок
- Расширенное логирование
